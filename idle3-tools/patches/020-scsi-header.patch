--- a/sgio.h
+++ b/sgio.h
@@ -2,7 +2,9 @@
 
 #include <linux/types.h>
 
+#ifdef __KERNEL__
 #include <scsi/scsi.h>
+#endif
 #include <scsi/sg.h>
 
 enum {
